# Build all parallel libraries

# axis that defines software deployment strategy
axis:
  - architecture
  - compiler
  - mpi
  - lapack
  - python

# toolchain combinations
combinations: !include packages/toolchains.yaml

# list of packages to build
packages:
  # with default gnu, intel toolchains + mpi
  gnu-intel-stable-parallel:
    target_matrix:
      - gnu-stable
      - intel-stable
    requires:
      - architecture
      - compiler
      - mpi
    specs:
      - hdf5+mpi@1.10.2

  # with default gnu, intel toolchains + mpi + lapack
  gnu-intel-stable-parallel-lapack:
    target_matrix:
      - gnu-stable
      - intel-stable
    requires:
      - architecture
      - compiler
      - lapack
    specs:
      - omega-h@9.22.1
      - petsc+int64+mpi@3.9.3
      - trilinos@12.12.1
